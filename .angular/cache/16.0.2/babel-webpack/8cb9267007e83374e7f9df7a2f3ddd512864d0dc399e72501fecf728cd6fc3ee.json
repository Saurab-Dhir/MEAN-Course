{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PostCreateComponent = void 0;\nvar router_1 = require(\"@angular/router\");\nvar posts_service_1 = require(\"../posts.service\");\nvar i0 = require(\"@angular/core\");\nvar i1 = require(\"../posts.service\");\nvar i2 = require(\"@angular/router\");\nfunction PostCreateComponent_mat_spinner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\");\n  }\n}\nfunction PostCreateComponent_form_2_mat_error_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Please enter a post title.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PostCreateComponent_form_2_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Please enter a post title.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PostCreateComponent_form_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 2, 3);\n    i0.ɵɵlistener(\"submit\", function PostCreateComponent_form_2_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      var _r2 = i0.ɵɵreference(1);\n      var ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.onSavePost(_r2));\n    });\n    i0.ɵɵelementStart(2, \"mat-form-field\");\n    i0.ɵɵelement(3, \"input\", 4, 5);\n    i0.ɵɵtemplate(5, PostCreateComponent_form_2_mat_error_5_Template, 2, 0, \"mat-error\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-form-field\");\n    i0.ɵɵelement(7, \"textarea\", 6, 7);\n    i0.ɵɵtemplate(9, PostCreateComponent_form_2_mat_error_9_Template, 2, 0, \"mat-error\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 8);\n    i0.ɵɵtext(11, \"Save Post\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var _r3 = i0.ɵɵreference(4);\n    var _r5 = i0.ɵɵreference(8);\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.post == null ? null : ctx_r1.post.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r3.invalid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.post == null ? null : ctx_r1.post.content);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r5.invalid);\n  }\n}\nvar PostCreateComponent = exports.PostCreateComponent = /** @class */function () {\n  function PostCreateComponent(postsService, route) {\n    this.postsService = postsService;\n    this.route = route;\n    this.enteredTitle = \"\";\n    this.enteredContent = \"\";\n    this.isLoading = false;\n    this.mode = \"create\";\n  }\n  PostCreateComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.route.paramMap.subscribe(function (paramMap) {\n      if (paramMap.has(\"postId\")) {\n        _this.mode = \"edit\";\n        _this.postId = paramMap.get(\"postId\");\n        _this.isLoading = true;\n        _this.postsService.getPost(_this.postId).subscribe(function (postData) {\n          _this.isLoading = false;\n          _this.post = {\n            id: postData._id,\n            title: postData.title,\n            content: postData.content\n          };\n        });\n      } else {\n        _this.mode = \"create\";\n        _this.postId = null;\n      }\n    });\n  };\n  PostCreateComponent.prototype.onSavePost = function (form) {\n    if (form.invalid) {\n      return;\n    }\n    this.isLoading = true;\n    if (this.mode === \"create\") {\n      this.postsService.addPost(form.value.title, form.value.content);\n    } else {\n      this.postsService.updatePost(this.postId, form.value.title, form.value.content);\n    }\n    form.resetForm();\n  };\n  PostCreateComponent.ɵfac = function PostCreateComponent_Factory(t) {\n    return new (t || PostCreateComponent)(i0.ɵɵdirectiveInject(i1.PostsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  PostCreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PostCreateComponent,\n    selectors: [[\"app-post-create\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [3, \"submit\", 4, \"ngIf\"], [3, \"submit\"], [\"postForm\", \"ngForm\"], [\"matInput\", \"\", \"type\", \"text\", \"name\", \"title\", \"required\", \"\", \"minlength\", \"3\", \"placeholder\", \"Post Title\", 3, \"ngModel\"], [\"title\", \"ngModel\"], [\"matInput\", \"\", \"rows\", \"4\", \"name\", \"content\", \"required\", \"\", \"placeholder\", \"Post Content\", 3, \"ngModel\"], [\"content\", \"ngModel\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", \"type\", \"submit\"]],\n    template: function PostCreateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\");\n        i0.ɵɵtemplate(1, PostCreateComponent_mat_spinner_1_Template, 1, 0, \"mat-spinner\", 0);\n        i0.ɵɵtemplate(2, PostCreateComponent_form_2_Template, 12, 4, \"form\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n      }\n    },\n    styles: [\"mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\nmat-spinner[_ngcontent-%COMP%] {\\n  margin: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcG9zdHMvcG9zdC1jcmVhdGUvcG9zdC1jcmVhdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0FBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyJtYXQtZm9ybS1maWVsZCxcbnRleHRhcmVhIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbm1hdC1zcGlubmVyIHtcbiAgbWFyZ2luOiBhdXRvO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n  return PostCreateComponent;\n}();","map":{"version":3,"names":["router_1","require","posts_service_1","i0","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostCreateComponent_form_2_Template_form_submit_0_listener","ɵɵrestoreView","_r8","_r2","ɵɵreference","ctx_r7","ɵɵnextContext","ɵɵresetView","onSavePost","ɵɵtemplate","PostCreateComponent_form_2_mat_error_5_Template","PostCreateComponent_form_2_mat_error_9_Template","ɵɵadvance","ɵɵproperty","ctx_r1","post","title","_r3","invalid","content","_r5","PostCreateComponent","exports","postsService","route","enteredTitle","enteredContent","isLoading","mode","prototype","ngOnInit","_this","paramMap","subscribe","has","postId","get","getPost","postData","id","_id","form","addPost","value","updatePost","resetForm","ɵɵdirectiveInject","i1","PostsService","i2","ActivatedRoute","selectors","decls","vars","consts","template","PostCreateComponent_Template","rf","ctx","PostCreateComponent_mat_spinner_1_Template","PostCreateComponent_form_2_Template"],"sources":["C:\\Users\\Saurab Dhir\\Documents\\Web Dev Udemy Course\\Angular Course\\mean-course\\src\\app\\posts\\post-create\\post-create.component.ts","C:\\Users\\Saurab Dhir\\Documents\\Web Dev Udemy Course\\Angular Course\\mean-course\\src\\app\\posts\\post-create\\post-create.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { NgForm } from \"@angular/forms\";\nimport { ActivatedRoute, ParamMap } from \"@angular/router\";\n\nimport { PostsService } from \"../posts.service\";\nimport { Post } from \"../post.model\";\n\n@Component({\n  selector: \"app-post-create\",\n  templateUrl: \"./post-create.component.html\",\n  styleUrls: [\"./post-create.component.css\"]\n})\nexport class PostCreateComponent implements OnInit {\n  enteredTitle = \"\";\n  enteredContent = \"\";\n  post: Post;\n  isLoading = false;\n  private mode = \"create\";\n  private postId: string;\n\n  constructor(\n    public postsService: PostsService,\n    public route: ActivatedRoute\n  ) {}\n\n  ngOnInit() {\n    this.route.paramMap.subscribe((paramMap: ParamMap) => {\n      if (paramMap.has(\"postId\")) {\n        this.mode = \"edit\";\n        this.postId = paramMap.get(\"postId\");\n        this.isLoading = true;\n        this.postsService.getPost(this.postId).subscribe(postData => {\n          this.isLoading = false;\n          this.post = {id: postData._id, title: postData.title, content: postData.content};\n        });\n      } else {\n        this.mode = \"create\";\n        this.postId = null;\n      }\n    });\n  }\n\n  onSavePost(form: NgForm) {\n    if (form.invalid) {\n      return;\n    }\n    this.isLoading = true;\n    if (this.mode === \"create\") {\n      this.postsService.addPost(form.value.title, form.value.content);\n    } else {\n      this.postsService.updatePost(\n        this.postId,\n        form.value.title,\n        form.value.content\n      );\n    }\n    form.resetForm();\n  }\n}\n","<mat-card>\n  <mat-spinner *ngIf=\"isLoading\"></mat-spinner>\n  <form (submit)=\"onSavePost(postForm)\" #postForm=\"ngForm\" *ngIf=\"!isLoading\">\n    <mat-form-field>\n      <input\n        matInput\n        type=\"text\"\n        name=\"title\"\n        [ngModel]=\"post?.title\"\n        required\n        minlength=\"3\"\n        placeholder=\"Post Title\"\n        #title=\"ngModel\">\n      <mat-error *ngIf=\"title.invalid\">Please enter a post title.</mat-error>\n    </mat-form-field>\n    <mat-form-field>\n      <textarea\n        matInput\n        rows=\"4\"\n        name=\"content\"\n        [ngModel]=\"post?.content\"\n        required\n        placeholder=\"Post Content\"\n        #content=\"ngModel\"></textarea>\n      <mat-error *ngIf=\"content.invalid\">Please enter a post title.</mat-error>\n    </mat-form-field>\n    <button\n      mat-raised-button\n      color=\"accent\"\n      type=\"submit\">Save Post</button>\n  </form>\n</mat-card>\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}